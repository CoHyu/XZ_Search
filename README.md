# 基于 Playwright + Flask + SQLite 的先知文章爬取与搜索系统

先知平台内容是 js 动态加载而来，此处用 Playwright 解决

Flask 写前后端交互；使用 SQLite 作为数据库

## 解决的问题

1. 先知平台的搜索机制不行，无法根据文章内容，只能是标题；并且搜索引擎的得分不高。不便于查找资料
2. 某些断网情况下需要临时参考一些资料，这个庞大的数据库能很好地解决这个问题

## 实现效果

1. 总体风格：
   黑白简约
2. 首页：
   搜索框，模糊搜索，能根据标题、作者、目录、文章内容、网址搜索。
3. 文章：
   左侧显示正文，能够显示代码高亮、图片等内容
   右侧显示导航目录
   顶部显示文章标题，原文链接等新旧阅读模板切换按钮

## 快速上手

1. 初始数据库
2. 爬取数据
3. app.py 运行

## 功能实现，realize path

1. 数据库设计
   由于数据量也不算大，就用最方便的 sqlite3
   id
   title
   author
   url
   category
   content_html（因为并不是简单的 md，而是阿里云有自己的渲染 js，所以爬取标签）
   created_at
2. 平台经过一次更新，前端模板需要修改
   人工测定更新的分界点是 16567，之后就都是新的渲染模式
   爬虫可以由此用不同的方式爬取
   前端 article 页面也能以此优先展示对应的模板

## 使用须知

1. worker 数量不宜过多，因为最近的平台更新依据 IP 作访问限流

## PS：

1. 其实这是学校网络编程的作业。
   总的来说数据处理还是一坨答辩（
2. 有 docker 部署需求可以自行编写，代码逻辑非常简单。
